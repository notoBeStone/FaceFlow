# AI 编程提示词工程指南

本指南专门为使用 Cursor、GitHub Copilot、ChatGPT 等 AI 编程工具的开发者设计，提供高效的提示词模板和最佳实践，以便快速理解和修改 HackWeek 模板。

## 🎯 提示词设计原则

### 1. 上下文优先原则
总是先提供足够的上下文信息，让 AI 理解项目架构：

```
你正在为一个基于 HackWeek 模板的 iOS 应用开发功能。HackWeek 是一个企业级 SwiftUI 应用模板，使用 Navigator 模式进行页面导航，SwiftData 进行数据持久化。

项目结构：
- Navigator: 统一的页面导航管理
- SwiftData: 数据持久化
- ComposableUI: 组件化架构
- 四大核心能力：导航、拍照、LLM、数据存储
```

### 2. 模块化提示原则
将复杂任务分解为具体的模块化请求：

**❌ 不好的提示**：
```
"帮我做一个用户管理功能"
```

**✅ 好的提示**：
```
"基于 HackWeek 的架构，创建一个用户管理功能，包含：
1. 用户列表页面（使用 ComposablePageComponent）
2. 用户详情页面
3. SwiftData 用户模型
4. Navigator 导航集成"
```

### 3. 架构一致性原则
确保生成的代码符合 HackWeek 的架构模式：

```
请使用 HackWeek 的架构模式：
- 页面组件继承 ComposablePageComponent
- 使用 Navigator 进行页面跳转
- 数据模型使用 @Model 宏
- 使用 GL 系列组件库
```

## 📝 常用提示词模板

### 页面创建模板

#### 基础页面模板
```
创建一个新的 SwiftUI 页面组件，遵循 HackWeek 的 ComposablePageComponent 模式：

需求：
- 页面名称：[页面名称]
- 功能描述：[具体功能]
- 导航来源：[从哪个页面跳转过来]

要求：
1. 继承 ComposablePageComponent 协议
2. 包含 Props 结构体定义
3. 实现页面追踪参数
4. 使用 Navigator 进行导航
5. 遵循 HackWeek 的命名规范

示例代码结构请参考现有的 OnboardingWelcomePage.swift
```

#### 列表页面模板
```
创建一个列表页面，显示 [数据类型] 列表：

技术要求：
- 使用 LazyVStack 显示数据
- 支持下拉刷新
- 点击项目跳转到详情页
- 集成 SwiftData 查询
- 添加搜索功能（如需要）

UI 要求：
- 遵循 HackWeek 的设计风格
- 使用 GL 系列组件
- 支持暗色模式
- 响应式布局

参考现有的 MainAppView.swift 中的列表实现
```

### 数据模型模板

#### SwiftData 模型模板
```
创建一个 SwiftData 数据模型，用于存储 [数据类型] 信息：

模型字段：
- [字段1名称]: [类型] - [描述]
- [字段2名称]: [类型] - [描述]
- [字段3名称]: [类型] - [描述]

技术要求：
1. 使用 @Model 宏
2. 添加适当的属性注解（@Attribute, @Relationship）
3. 包含初始化方法
4. 添加计算属性（如需要）
5. 遵循 HackWeek 的数据模型命名规范

参考现有的 WordModel.swift 和 WordBook.swift
```

### 功能集成模板

#### 拍照功能集成
```
在现有页面中集成拍照功能：

页面位置：[具体页面路径]
功能需求：[具体的拍照需求]

集成要求：
1. 使用 TemplateAPI.Camera 的现有接口
2. 处理拍照权限
3. 图片预览和重拍功能
4. 图片压缩和优化
5. 错误处理机制

参考 CameraPage.swift 的实现方式
```

#### AI 功能集成
```
集成 AI 功能实现 [具体需求]：

AI 需求：[详细的 AI 功能描述]
输入数据：[输入类型和格式]
输出期望：[输出类型和格式]

技术要求：
1. 使用 TemplateAPI.ChatGPT 接口
2. 处理网络请求和错误
3. 添加加载状态指示
4. 结果缓存机制（如需要）
5. 用户友好的错误提示

参考 IdentificationPage.swift 中的 AI 集成
```

## 🔧 代码修改提示词

### 重构现有代码
```
重构以下代码，使其更符合 HackWeek 的架构模式：

[贴出现有代码]

重构要求：
1. 改为使用 ComposablePageComponent
2. 添加适当的 Props 结构体
3. 集成 Navigator 导航
4. 添加页面追踪
5. 优化性能和内存使用

保持现有功能不变，只改进代码结构
```

### 修复 Bug
```
修复以下代码中的问题：

问题描述：[详细描述问题现象]
期望行为：[描述正确的行为]
错误信息：[如果有错误信息，请贴出]

[贴出相关代码]

要求：
1. 识别并修复问题
2. 保持 HackWeek 架构一致性
3. 添加适当的错误处理
4. 确保代码质量
5. 提供测试建议
```

### 性能优化
```
优化以下代码的性能：

性能问题：[描述具体的性能问题]
目标：[期望达到的性能指标]

[贴出相关代码]

优化方向：
1. SwiftUI 性能优化
2. 内存使用优化
3. 网络请求优化
4. 数据库查询优化
5. UI 渲染优化

请提供具体的优化建议和代码修改
```

## 🎨 UI 相关提示词

### 组件创建
```
创建一个可复用的 SwiftUI 组件：

组件名称：[组件名称]
功能用途：[具体用途]
使用场景：[在哪里使用]

技术要求：
1. 继承 ComposableUIComponent
2. 支持 Props 配置
3. 遵循 HackWeek 设计规范
4. 支持暗色模式
5. 响应式设计
6. 可访问性支持

参考现有的组件实现模式
```

### 界面适配
```
优化以下界面代码，确保在不同设备上正确显示：

目标设备：iPhone 和 iPad
具体问题：[描述适配问题]

[贴出界面代码]

适配要求：
1. 响应式布局
2. 不同屏幕尺寸适配
3. 横竖屏支持
4. 安全区域处理
5. iPad 特有功能（如需要）

使用 SwiftUI 的适配特性，如 @Environment(\.horizontalSizeClass)
```

## 📋 调试和测试提示词

### 单元测试
```
为以下代码编写单元测试：

测试目标：[类名或函数名]
测试覆盖率要求：[具体要求]

[贴出需要测试的代码]

测试要求：
1. 使用 XCTest 框架
2. 测试正常流程和边界情况
3. Mock 外部依赖
4. 异步代码测试（如需要）
5. 性能测试（如需要）

遵循 HackWeek 的测试命名规范
```

### 调试协助
```
帮我调试以下问题：

问题现象：[详细描述问题]
复现步骤：[如何复现]
期望结果：[应该的正确行为]
实际结果：[实际发生的情况]

[贴出相关代码]
[贴出错误日志]

请帮我：
1. 分析问题原因
2. 提供修复方案
3. 解释技术原理
4. 给出预防建议
```

## 🚀 高级功能提示词

### 架构设计
```
设计以下功能的架构：

功能描述：[详细的功能描述]
技术要求：[性能、安全等要求]
集成点：[与现有系统的集成]

请提供：
1. 架构设计方案
2. 主要组件划分
3. 数据流设计
4. 接口设计
5. 实现步骤建议

确保方案符合 HackWeek 的架构原则
```

### 第三方集成
```
集成以下第三方服务到 HackWeek 模板：

服务名称：[第三方服务名称]
功能需求：[需要实现的功能]
API 文档：[如果有文档链接]

集成要求：
1. 创建服务封装层
2. 错误处理机制
3. 配置管理
4. 安全考虑
5. 性能优化

参考 HackWeek 现有的第三方集成模式
```

## 💡 最佳实践

### 1. 提示词结构化
使用结构化的提示词格式：
```
## 背景
[项目背景和上下文]

## 需求
[具体的功能需求]

## 技术要求
[技术栈和架构要求]

## 约束条件
[限制和约束]

## 期望输出
[期望的代码格式和结构]
```

### 2. 渐进式开发
将复杂功能分解为多个步骤：
```
第一步：创建基础数据模型
第二步：实现基础的 UI 界面
第三步：添加业务逻辑
第四步：集成导航和数据流
第五步：优化和测试

请先完成第一步，我确认后再进行下一步
```

### 3. 代码审查请求
```
请审查以下代码，确保它符合 HackWeek 的最佳实践：

[贴出代码]

请检查：
1. 代码结构和组织
2. 性能问题
3. 安全性考虑
4. 可维护性
5. 架构一致性

请提供具体的改进建议
```

### 4. 学习和理解
```
解释以下代码的工作原理：

[贴出代码]

请详细说明：
1. 代码的整体结构
2. 关键技术点
3. 设计模式和原则
4. 与 HackWeek 架构的关系
5. 可能的改进点

假设我是其他平台的开发者，需要理解 iOS 开发的概念
```

## 🎯 示例对话

### 示例 1：创建新功能
```
用户：我想在 HackWeek 中添加一个笔记功能

AI：我来帮你创建一个笔记功能。基于 HackWeek 的架构，我们需要：

1. 首先创建数据模型
2. 实现笔记列表页面
3. 创建笔记编辑页面
4. 集成导航系统

你希望笔记功能包含哪些字段？比如标题、内容、创建时间、分类等？
```

### 示例 2：修改现有功能
```
用户：我想修改主界面，把拍照按钮改成笔记按钮

AI：好的，我来帮你修改主界面。我需要：

1. 修改 MainAppView.swift 中的按钮文字和图标
2. 更新按钮的点击事件，跳转到笔记页面
3. 调整相关的追踪参数

你可以提供一下新的按钮图标和文字吗？或者我可以用默认的笔记图标？
```

### 示例 3：问题排查
```
用户：应用在真机上崩溃，提示 "Cannot find 'xxx' in scope"

AI：这个错误通常是因为变量名拼写错误或作用域问题。让我帮你排查：

1. 请贴出相关的代码片段
2. 确认一下你使用的是 .xcworkspace 文件而不是 .xcodeproj
3. 检查是否运行了 `pod install`

你能提供具体的错误信息和相关代码吗？
```

## 🔗 相关资源

### HackWeek 架构文档
- [核心能力映射](CoreCapabilities.md)
- [Navigator 使用指南](Navigator_Usage_Guide.md)
- [数据持久化指南](DataPersistence_Usage_Guide.md)

### SwiftUI 和 iOS 开发
- [Apple SwiftUI 教程](https://developer.apple.com/tutorials/swiftui/)
- [SwiftData 文档](https://developer.apple.com/documentation/swiftdata)

### AI 编程工具
- [Cursor 官方文档](https://cursor.sh/)
- [GitHub Copilot 指南](https://docs.github.com/en/copilot)
- [ChatGPT 编程最佳实践](https://platform.openai.com/docs/guides/prompt-engineering)

---

**提示**: 好的提示词是高效 AI 编程的关键。花时间设计清晰的提示词，能大大提高代码质量和开发效率。